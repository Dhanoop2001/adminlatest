"use strict";(self["webpackChunkparlouradmin"]=self["webpackChunkparlouradmin"]||[]).push([[619],{9619:function(e,t,a){a.r(t),a.d(t,{default:function(){return V}});var l=a(6768),n=a(5130),o=a(4232),i=a(554),s=a(4189),d=a(1606),u=a(697),r=a(3745),c=a(1772),m=a(7511),f=a(1560),p=a(3813),h=a(1720),v=a(9669),b=a(7009),g=a(6498),G=a(7294),k=a(9336),F=a(3948);const w={class:"btn-container"};function _(e,t,a,_,y,D){const E=(0,l.g2)("v-list-item-content");return(0,l.uX)(),(0,l.Wv)(p.I,null,{default:(0,l.k6)((()=>[(0,l.bF)(s.J,{class:"pa-4",elevation:"5"},{default:(0,l.k6)((()=>[(0,l.bF)(d.r,{class:"text-h5 text-center"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("Manage GST")]))),_:1}),(0,l.bF)(m.G,{class:"my-4"}),(0,l.bF)(f.n,{onSubmit:(0,n.D$)(D.addGst,["prevent"]),class:"d-flex flex-column gap-4"},{default:(0,l.k6)((()=>[(0,l.bF)(F.W,{modelValue:y.newGst.item,"onUpdate:modelValue":t[0]||(t[0]=e=>y.newGst.item=e),label:"Item",required:"",outlined:"",dense:""},null,8,["modelValue"]),(0,l.bF)(F.W,{modelValue:y.newGst.amount,"onUpdate:modelValue":t[1]||(t[1]=e=>y.newGst.amount=e),label:"Amount",type:"number",step:"0.01",required:"",outlined:"",dense:"",rules:[y.amountRule]},null,8,["modelValue","rules"]),(0,l.bF)(i.D,{type:"submit",color:"primary",class:"mt-2",disabled:y.loading},{default:(0,l.k6)((()=>[(0,l.bF)(v.w,{left:""},{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.eW)("mdi-plus")]))),_:1}),t[7]||(t[7]=(0,l.eW)(" Add GST "))])),_:1},8,["disabled"])])),_:1},8,["onSubmit"])])),_:1}),(0,l.bF)(s.J,{class:"mt-6 pa-4",elevation:"5"},{default:(0,l.k6)((()=>[(0,l.bF)(d.r,{class:"text-h6"},{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.eW)("GST List")]))),_:1}),(0,l.bF)(m.G,{class:"mb-4"}),y.loading?((0,l.uX)(),(0,l.Wv)(k.Z,{key:0,indeterminate:"",color:"primary"})):((0,l.uX)(),(0,l.Wv)(b.x8,{key:1},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(y.gstList,(e=>((0,l.uX)(),(0,l.Wv)(g.g,{key:e.id,class:"mb-2 rounded-lg"},{default:(0,l.k6)((()=>[(0,l.bF)(E,null,{default:(0,l.k6)((()=>[(0,l.bF)(G.U,{class:"font-weight-bold"},{default:(0,l.k6)((()=>[(0,l.bF)(v.w,{left:""},{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)("mdi-currency-inr")]))),_:1}),(0,l.eW)(" "+(0,o.v_)(e.item)+" - "+(0,o.v_)(e.amount),1)])),_:2},1024)])),_:2},1024),(0,l.Lk)("div",w,[(0,l.bF)(i.D,{color:"blue",class:"mx-2",onClick:t=>D.openEditDialog(e),small:""},{default:(0,l.k6)((()=>[(0,l.bF)(v.w,{left:""},{default:(0,l.k6)((()=>t[10]||(t[10]=[(0,l.eW)("mdi-pencil")]))),_:1}),t[11]||(t[11]=(0,l.eW)(" Edit "))])),_:2},1032,["onClick"]),(0,l.bF)(i.D,{color:"red",onClick:t=>D.deleteGst(e.id),small:""},{default:(0,l.k6)((()=>[(0,l.bF)(v.w,{left:""},{default:(0,l.k6)((()=>t[12]||(t[12]=[(0,l.eW)("mdi-delete")]))),_:1}),t[13]||(t[13]=(0,l.eW)(" Delete "))])),_:2},1032,["onClick"])])])),_:2},1024)))),128))])),_:1}))])),_:1}),(0,l.bF)(c.p,{modelValue:y.editDialog,"onUpdate:modelValue":t[4]||(t[4]=e=>y.editDialog=e),"max-width":"400px"},{default:(0,l.k6)((()=>[(0,l.bF)(s.J,null,{default:(0,l.k6)((()=>[(0,l.bF)(d.r,null,{default:(0,l.k6)((()=>t[14]||(t[14]=[(0,l.eW)("Edit GST")]))),_:1}),(0,l.bF)(m.G),(0,l.bF)(u.O,null,{default:(0,l.k6)((()=>[(0,l.bF)(F.W,{modelValue:y.editGstData.amount,"onUpdate:modelValue":t[2]||(t[2]=e=>y.editGstData.amount=e),label:"New Amount",type:"number",step:"0.01",required:"",outlined:"",dense:"",rules:[y.amountRule]},null,8,["modelValue","rules"])])),_:1}),(0,l.bF)(r.S,null,{default:(0,l.k6)((()=>[(0,l.bF)(h.h),(0,l.bF)(i.D,{color:"blue darken-1",text:"",onClick:t[3]||(t[3]=e=>y.editDialog=!1)},{default:(0,l.k6)((()=>t[15]||(t[15]=[(0,l.eW)("Cancel")]))),_:1}),(0,l.bF)(i.D,{color:"green darken-1",text:"",onClick:D.updateGst},{default:(0,l.k6)((()=>t[16]||(t[16]=[(0,l.eW)("Save")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var y=a(4373),D={data(){return{newGst:{item:"",amount:""},gstList:[],loading:!1,editDialog:!1,editGstData:{id:null,item:"",amount:""},amountRule:e=>e>0||"Amount must be positive"}},methods:{async fetchGst(){this.loading=!0;try{const e=await y.A.get("http://192.168.l.200:8086/api/gst/allGst",{withCredentials:!0});this.gstList=e.data}catch(e){console.error("Error fetching GST:",e)}finally{this.loading=!1}},async addGst(){if(this.newGst.item&&!(this.newGst.amount<=0))try{await y.A.post("http://192.168.l.200:8086/api/gst/addGst",this.newGst,{headers:{"Content-Type":"application/json"},withCredentials:!0}),this.fetchGst(),this.newGst={item:"",amount:""}}catch(e){console.error("Error adding GST:",e)}},openEditDialog(e){this.editGstData={...e},this.editDialog=!0},async updateGst(){if(!(this.editGstData.amount<=0))try{await y.A.put(`http://192.168.l.200:8086/api/gst/updateGst?Id=${this.editGstData.id}`,{item:this.editGstData.item,amount:this.editGstData.amount},{headers:{"Content-Type":"application/json"},withCredentials:!0}),this.fetchGst(),this.editDialog=!1}catch(e){console.error("Error updating GST:",e)}},async deleteGst(e){try{await y.A.delete(`http://192.168.l.200:8086/api/gst/deleteGst?Id=${e}`,{withCredentials:!0}),this.fetchGst()}catch(t){console.error("Error deleting GST:",t)}}},mounted(){this.fetchGst()}},E=a(1241);const W=(0,E.A)(D,[["render",_],["__scopeId","data-v-0a4aaad9"]]);var V=W},1772:function(e,t,a){a.d(t,{p:function(){return b}});var l=a(6768),n=a(6856),o=a(7852),i=a(475),s=a(1950),d=a(2067),u=a(2876),r=a(144),c=a(4587),m=a(1247),f=a(9094),p=a(6993),h=a(4600);const v=(0,c.j)({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...(0,i.D)({origin:"center center",scrollStrategy:"block",transition:{component:n._},zIndex:2400})},"VDialog"),b=(0,m.RW)()({name:"VDialog",props:v(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:n}=t;const c=(0,d.q)(e,"modelValue"),{scopeId:m}=(0,u.b)(),v=(0,r.KR)();function b(e){const t=e.relatedTarget,a=e.target;if(t!==a&&v.value?.contentEl&&v.value?.globalTop&&![document,v.value.contentEl].includes(a)&&!v.value.contentEl.contains(a)){const e=(0,f.OW)(v.value.contentEl);if(!e.length)return;const a=e[0],l=e[e.length-1];t===a?l.focus():a.focus()}}function g(){a("afterEnter"),v.value?.contentEl&&!v.value.contentEl.contains(document.activeElement)&&v.value.contentEl.focus({preventScroll:!0})}function G(){a("afterLeave")}return(0,l.xo)((()=>{document.removeEventListener("focusin",b)})),p.ZK&&(0,l.wB)((()=>c.value&&e.retainFocus),(e=>{e?document.addEventListener("focusin",b):document.removeEventListener("focusin",b)}),{immediate:!0}),(0,l.wB)(c,(async e=>{e||(await(0,l.dY)(),v.value.activatorEl?.focus({preventScroll:!0}))})),(0,h.C)((()=>{const t=i.L.filterProps(e),a=(0,l.v6)({"aria-haspopup":"dialog"},e.activatorProps),s=(0,l.v6)({tabindex:-1},e.contentProps);return(0,l.bF)(i.L,(0,l.v6)({ref:v,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},t,{modelValue:c.value,"onUpdate:modelValue":e=>c.value=e,"aria-modal":"true",activatorProps:a,contentProps:s,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:g,onAfterLeave:G},m),{activator:n.activator,default:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.bF)(o.K,{root:"VDialog"},{default:()=>[n.default?.(...t)]})}})})),(0,s.O)({},v)}})},1720:function(e,t,a){a.d(t,{h:function(){return n}});a(5792);var l=a(2586);const n=(0,l.G)("v-spacer","div","VSpacer")}}]);
//# sourceMappingURL=619.74008ba3.js.map